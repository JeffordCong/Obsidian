

## 常量和变量梳理


### 一、 函数常量 (Function Constants)

**定义：** 这些不是变量，它们**不能单独使用**。它们必须作为参数填入特定函数（如 `bbox()`, `centroid()`, `size()`）的括号中，用来告诉函数“我要取哪个具体数值”。

#### 1. 极值类 (用于 bbox 函数)

告诉 `bbox` 函数你要物体哪一边的坐标。

- **`D_XMIN`** : X轴 最小值 (最左)
    
- **`D_XMAX`** : X轴 最大值 (最右)
    
- **`D_YMIN`** : Y轴 最小值 (最底)
    
- **`D_YMAX`** : Y轴 最大值 (最顶)
    
- **`D_ZMIN`** : Z轴 最小值 (最前)
    
- **`D_ZMAX`** : Z轴 最大值 (最后)
    

#### 2. 尺寸类 (用于 bbox / size 函数)

告诉函数你要物体的长宽高。

- **`D_XSIZE`** : X轴 长度
    
- **`D_YSIZE`** : Y轴 高度
    
- **`D_ZSIZE`** : Z轴 深度
    

#### 3. 中心类 (用于 centroid 函数)

告诉 `centroid` 函数你要取哪个轴的中心。

- **`D_X`** : X轴 中心
    
- **`D_Y`** : Y轴 中心
    
- **`D_Z`** : Z轴 中心
    

#### 4. 元素类型类 (用于 nearpoint / xyzdist 等查询函数)

告诉函数你要找的是点还是面。

- **`D_POINT`** : 代表 点 (Points)
    
- **`D_PRIM`** : 代表 面 (Primitives)



### 二、 全局变量 (Global Variables)

**定义：** 系统级变量，**哪里都能用**，无需依赖特定节点。以 `$` 开头。

#### 1. 时间类

- **`$F`** : 当前帧号 (Frame) —— _最常用_
    
- **`$T`** : 当前时间 (Time, 秒)
    
- **`$FPS`** : 帧率 (Frames Per Second)
    
- **`$FSTART`** :起始帧
    
- **`$FEND`** : 结束帧
    

#### 2. 路径与环境类

- **`$HIP`** : 当前工程文件 (`.hip`) 所在的文件夹路径
    
- **`$OS`** : 当前节点的名字 (Operator String) —— _非常常用，用于输出文件名_
    
- **`$JOB`** : 当前项目设置的根目录
    

#### 3. 数学常数类

- **`$PI`** : 圆周率 (3.14159...)
    
- **`$E`** : 自然常数 (2.71828...)


### 三、 局部变量 (Local Variables)

**定义：** **特定节点专用**。出了这个节点就报错。以 `$` 开头。

#### 1. 变换专用类 (仅限 Transform / Soft Transform 节点)

这些是该节点为了方便用户，预先算好的快捷变量。

- **`$CEX`, `$CEY`, `$CEZ`** : 等同于 `centroid(..., D_X)`
    
- **`$XMIN`, `$YMIN`, `$ZMIN`** : 等同于 `bbox(..., D_XMIN)`
    
- **`$XSIZE`, `$YSIZE`, `$ZSIZE`** : 等同于 `bbox(..., D_XSIZE)`
    

#### 2. 元素迭代类 (旧式节点专用)

主要用于 `PolyExtrude`, `Copy to Points (Stamp栏)`, 老版 `Point SOP`。

- **`$PT`** : 当前点序号 (Point Number)
    
- **`$PR`** : 当前面序号 (Primitive Number)
    
- **`$NPT`** : 总点数 (Total Points)
    
- **`$NPR`** : 总面数 (Total Primitives)
    

---

**总结：**

1. 看到 **`D_`** 开头：它是**参数**，必须放函数括号里。
    
2. 看到 **`$`** 开头：它是**变量**，可以直接写。
    
    - 如果是 `$F`, `$OS`：随便用。
        
    - 如果是 `$CEX`, `$PT`：先看节点支不支持。